Notebook[{

Cell[CellGroupData[{
Cell["Main model execution document", "Title"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"SetDirectory", "[", 
  RowBox[{"NotebookDirectory", "[", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"ClearAll", "[", "t", "]"}]}], "Input",
 InitializationCell->True],

Cell[BoxData["\<\"/home/eric/git/MCMICM2017/MMAmodel\"\>"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Document stocks + stuff with initial conditions", "Chapter"],

Cell["\<\
[[SOURCE]] -> lake1inflow -> lake1 -> lake1outflow -> [[SINK]]\
\>", "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"initialConds", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"lake1Vol", "[", "0", "]"}], "\[Equal]", "1000000000000"}], 
    RowBox[{"(*", 
     RowBox[{",", 
      RowBox[{
       RowBox[{"lake1inflow", "[", 
        RowBox[{"t_", "/;", 
         RowBox[{"t", "\[LessEqual]", "0"}]}], "]"}], "\[Equal]", "10"}]}], 
     "*)"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"behaviors", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"lake1Vol", "'"}], "[", "t", "]"}], "\[Equal]", 
     RowBox[{
      RowBox[{"lake1inflow", "[", "t", "]"}], "-", 
      RowBox[{"lake1outflow", "[", "t", "]"}]}]}], "}"}]}], ";"}]}], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Define lake properties", "Chapter"],

Cell["These convert volume in m^3 into height in meters", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"surfacearea", " ", "=", 
      RowBox[{"N", "@", 
       RowBox[{"QuantityMagnitude", "[", 
        RowBox[{"UnitConvert", "[", " ", 
         RowBox[{
          NamespaceBox["LinguisticAssistant",
           
           DynamicModuleBox[{Typeset`query$$ = "2085 mi^2", Typeset`boxes$$ = 
            TemplateBox[{"2085", 
              RowBox[{
                SuperscriptBox["\"mi\"", "2"]}], "miles squared", 
              SuperscriptBox["\"Miles\"", "2"]}, "Quantity", SyntaxForm -> 
             Mod], Typeset`allassumptions$$ = {}, Typeset`assumptions$$ = {}, 
            Typeset`open$$ = {1, 2}, Typeset`querystate$$ = {
            "Online" -> True, "Allowed" -> True, "mparse.jsp" -> 
             0.788038`6.348092153615485, "Messages" -> {}}}, 
            DynamicBox[ToBoxes[
              AlphaIntegration`LinguisticAssistantBoxes["", 4, Automatic, 
               Dynamic[Typeset`query$$], 
               Dynamic[Typeset`boxes$$], 
               Dynamic[Typeset`allassumptions$$], 
               Dynamic[Typeset`assumptions$$], 
               Dynamic[Typeset`open$$], 
               Dynamic[Typeset`querystate$$]], StandardForm],
             ImageSizeCache->{114., {9., 22.}},
             
             TrackedSymbols:>{
              Typeset`query$$, Typeset`boxes$$, Typeset`allassumptions$$, 
               Typeset`assumptions$$, Typeset`open$$, Typeset`querystate$$}],
            DynamicModuleValues:>{},
            UndoTrackedVariables:>{Typeset`open$$}],
           BaseStyle->{"Deploy"},
           DeleteWithContents->True,
           Editable->False,
           SelectWithContents->True], ",", "\"\<m^2\>\""}], "]"}], "]"}]}]}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"lakeEqns", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"lake1Height", "[", "t", "]"}], "\[Equal]", 
       RowBox[{
        RowBox[{"lake1Vol", "[", "t", "]"}], "/", "surfacearea"}]}], 
      "}"}]}]}], "]"}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Define source inflow", "Chapter"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"flow20112012", "=", 
   RowBox[{"TimeSeries", "@", 
    RowBox[{"Import", "[", 
     RowBox[{"\"\<../Data/Data 2/Pink Line.csv\>\"", ",", "\"\<Data\>\""}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"flow20112012", "=", 
   RowBox[{"TimeSeriesMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"#", "*", 
       RowBox[{"QuantityMagnitude", "@", 
        RowBox[{"UnitConvert", "[", 
         RowBox[{
          TemplateBox[{"1","\"day\"","days","\"Days\""},
           "Quantity"], ",", " ", "\"\<Seconds\>\""}], "]"}]}]}], "&"}], ",", 
     "flow20112012"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"startDate", "=", 
  RowBox[{
   RowBox[{"flow20112012", "[", "\"\<Dates\>\"", "]"}], "[", 
   RowBox[{"[", "1", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"DateListPlot", "[", "flow20112012", "]"}]}], "Input"],

Cell[BoxData[
 TemplateBox[{RowBox[{"\"Sun 24 Dec 2000\""}],RowBox[{"DateObject", "[", 
     RowBox[{"{", 
       RowBox[{"2000", ",", "12", ",", "24"}], "}"}], "]"}]},
  "DateObject",
  Editable->False]], "Output"],

Cell[BoxData[
 GraphicsBox[{{}, {{}, {}, 
    {RGBColor[0.368417, 0.506779, 0.709798], PointSize[0.012833333333333334`],
      AbsoluteThickness[1.6], LineBox[CompressedData["
1:eJxTTMoPSmViYGBQB2IQDQQJ3/c+d+T75/Pjy8lGRyA/4NS+546vmnq4pUs7
QPyC4/ufO5b17bM8OL0fxE+YdeC547bc29uWqk4C8RumH3zueFLOoPrg0skg
voPDoeeOohtDjiy7MA3ENxA+/NxR0XPSkr9PwfwPu4H8XI31iq+fTgXxH/Qd
QeEz9Bx97jjNNsGMs2062Py7x547Cm4MSdGfNhPsng3HnzvaJnxjOOEzB2x+
5InnjrHfGm42q80D8RV0Tj53fOm3evfEZ2D+hlVA/uL8Prslz+aDzb906rlj
1N3M0krhRWD1508/d8y5vW3tus9LwOZ/O/PcEej9olPFy0D8C15nnzvm9+2r
XCa3Eqy/FMhfab02T/rKKnB4nATy32/Zddl6yhoQf8JnIP8Yq2S5vdQGEP+A
7Lnnjubu92tSpDaB/XMMyA+Ic/55df5msP+lzj93PDifM77oFljeIR/IF9kY
wpL4aiPYPTOBfFcdUUOfU2DzFhwG8nddfuVnxwXmX3gL5FfwPt3qGbIWHB5O
F547LtjTdokhBezeD6+A/LMXzdlbN4P9K/Di4nPHxh7uTf8mzAabb3PpuWPa
ofmccstmgP23G8j/0nCT+edScHw9SLjy3PEJ42Z2/X/g+F/AeRWYHoD2beLq
Aft/E5D/WurU68IucHrZcPPac0c2IONiSQvYPxHXnzueAaYP9lNNjgDLPwwh

      "]]}}, {}, {}, {{}, {}}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->{False, False},
  AxesLabel->{None, None},
  AxesOrigin->{3.1866048*^9, 0},
  DisplayFunction->Identity,
  Frame->{{True, True}, {True, True}},
  FrameLabel->{{None, None}, {None, None}},
  FrameTicks->
   FrontEndValueCache[{{Automatic, Automatic}, {Charting`FindScaledTicks[
       (Charting`getDateTicks[Automatic, {Automatic}, 
        (Map[DateList, {
          SlotSequence[1]}]& )[
         SlotSequence[1]], None, 5, {{0.0125, 0}, {0.0075, 0}}, Automatic]& )[
       
        SlotSequence[1]], {Identity, Identity}]& , Charting`ScaledFrameTicks[
       (Charting`getDateTicks[Charting`getDateTicks[Automatic, {Automatic}, 
         (Map[DateList, {
           SlotSequence[1]}]& )[
          SlotSequence[1]], None, 5, {{0.0125, 0}, {0.0075, 0}}, 
         Automatic]& , {Automatic}, 
        (Map[DateList, {
          SlotSequence[1]}]& )[
         SlotSequence[1]], None, 5, {{0.0125, 0}, {0.0075, 0}}, None]& )[
        SlotSequence[1]], {Identity, Identity}]& }}, {{
     Automatic, Automatic}, {{{3.187296*^9, 
        FormBox["\"Jan\"", TraditionalForm], {0.0125, 0.}}, {3.1899744*^9, 
        FormBox["\"Feb\"", TraditionalForm], {0.0125, 0.}}, {3.1923936*^9, 
        FormBox["\"Mar\"", TraditionalForm], {0.0125, 0.}}, {3.195072*^9, 
        FormBox["\"Apr\"", TraditionalForm], {0.0125, 0.}}, {3.197664*^9, 
        FormBox["\"May\"", TraditionalForm], {0.0125, 0.}}, {3.1885056*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.191184*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1936032*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1962816*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1988736*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}}, {{
       3.187296*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0125, 0.}}, {3.1899744*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0125, 0.}}, {3.1923936*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0125, 0.}}, {3.195072*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0125, 0.}}, {3.197664*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0125, 0.}}, {3.1885056*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.191184*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1936032*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1962816*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}, {3.1988736*^9, 
        FormBox[
         InterpretationBox[
          StyleBox[
           
           GraphicsBox[{}, ImageSize -> {0., 0.}, BaselinePosition -> 
            Baseline], "CacheGraphics" -> False], 
          Spacer[{0., 0.}]], TraditionalForm], {0.0075, 0.}}}}}],
  GridLines->{None, None},
  GridLinesStyle->Directive[
    GrayLevel[0.5, 0.4]],
  ImagePadding->All,
  Method->{"CoordinatesToolOptions" -> {"DisplayFunction" -> ({
        (Part[{{Identity, Identity}, {Identity, Identity}}, 1, 2][#]& )[
         Part[#, 1]], 
        (Part[{{Identity, Identity}, {Identity, Identity}}, 2, 2][#]& )[
         Part[#, 2]]}& ), "CopiedValueFunction" -> ({
        (Part[{{Identity, Identity}, {Identity, Identity}}, 1, 2][#]& )[
         Part[#, 1]], 
        (Part[{{Identity, Identity}, {Identity, Identity}}, 2, 2][#]& )[
         Part[#, 2]]}& )}},
  PlotRange->{{3.1866048*^9, 3.1999104*^9}, {0, 3.2924210526315784`*^8}},
  PlotRangeClipping->True,
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.05]}},
  Ticks->{{}, Automatic}]], "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"inflows", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"lake1inflow", "[", "t", "]"}], "\[Equal]", 
     RowBox[{"flow20112012", "[", 
      RowBox[{"startDate", "+", 
       TemplateBox[{"t","\"days\"","days","\"Days\""},
        "Quantity"]}], "]"}]}], "}"}]}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Define dam policies", "Chapter"],

Cell[BoxData[
 RowBox[{
  RowBox[{"damPolicy", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"lake1outflow", "[", "t", "]"}], "\[Equal]", "0"}], 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"lake1Height", "[", "t", "]"}], "*", "100000"}], "*)"}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Run simulation", "Chapter"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sol", "=", 
  RowBox[{"NDSolveValue", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "initialConds", ",", "behaviors", ",", "lakeEqns", ",", "inflows", ",", 
      "damPolicy"}], "}"}], ",", 
    RowBox[{"lake1Height", "[", "t", "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"t", ",", "0", ",", "150"}], "}"}]}], "]"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  TagBox[
   TemplateBox[{RowBox[{
       StyleBox[
        TagBox["InterpolatingFunction", "SummaryHead"], 
        "NonInterpretableSummary"], 
       StyleBox["[", "NonInterpretableSummary"], 
       DynamicModuleBox[{Typeset`open$$ = False}, 
        PanelBox[
         PaneSelectorBox[{False -> GridBox[{{
               PaneBox[
                ButtonBox[
                 DynamicBox[
                  FEPrivate`FrontEndResource[
                  "FEBitmaps", "SquarePlusIconMedium"]], 
                 ButtonFunction :> (Typeset`open$$ = True), Appearance -> 
                 None, Evaluator -> Automatic, Method -> "Preemptive"], 
                Alignment -> {Center, Center}, ImageSize -> 
                Dynamic[{
                  Automatic, 3.5 CurrentValue["FontCapHeight"]/
                   AbsoluteCurrentValue[Magnification]}]], 
               GraphicsBox[{{{{}, {}, {
                    Directive[
                    Opacity[1.], 
                    RGBColor[0.368417, 0.506779, 0.709798], 
                    AbsoluteThickness[1]], 
                    LineBox[CompressedData["
1:eJwVkn8wGwYcxTXtls3V6sbpWVWISXCoGLZWG6/1o34lE0FDQyN+fHtWSm92
fpSOltYRv+mVP8RYbfTKLOkpDVWVskxn0zrrurZEdXXD1fwat1n2x7t3nz/e
vXt3z1Z+NjyJYWRkdNig/91zdsRfJR7mN+UOPx21J6xI7UWvKnZiYl/FioxD
GNaxmUVyc7AW7ifZcgks1/kG9yBrmJiI8xcNvFf+RG+2bYfMnsk9Dx0ITZ6K
9t+POaJvnn13ypHQ2fFbqdrZFT9Vvbo562TIP+4TLg7wcFVuIrJ0Joibf9CY
xXrgGxfdpNiFoONzD2HMC3+GrnEuuRIuKtuF5ucOoukGf3X+AOHCRG760mtv
PNxXcCuMRzg9ociSRvLRPycb6XInjIYklPXkAI38bK6zB+HLek5CgOootv5o
HbnkSYjy/ecth3d8UV7/YHDNi9AStdL4S6QfokPbkuWfEKrDq3uMFP7ozVAY
aw4Smrt8mwufBYD1/e4ieBPC1xtNr1gG4i9l2LjqMMFOyQydTguC+dv1Z8R8
QkpnTc7O/mDYzzROrvoY9rVpD3y7FoLp06OqkqME6Q6T774KEmA1tbY6ypfA
9NvsYRUL0dryVG3pT3BcYKqS7nwK4yAd/2UAwet8reZCcRgK7rt5zQQSHL7I
Siy3E0G6p1U8FExwsk1+ox0ToSROvToVSqBt/br+83C4sZZEm0LCqkg9eM9U
DEZ0au97IkJNZGWG7rYYNVkzb1LEhMKx/tm6ExEY0zF49yIJN7LyfvZbjsDf
/aNNPAlh7pF/6/6GSGgKIm6uxBAyvo4/1OMVhZdr1yOuxRJ2cy/fOv8iCptm
Kc6lMsKGldEa48IJ5OxoUTYkEGwC3u1M/UACq1AJeyuZILGxEjKGJJjeVTCe
/xlhOq2wSyKLhs2/7h226YTstOWNKeMYKC2WX3tnEgTNy71HumPQKthsW8om
nAsMQKLwJLrZU8sP8ghtypYO1fpJpE3XcPkFBJfUiCfaOinqcsIuL1wkLJ6p
K9S4xYLh7MRjFxMG9r8wfTYViwmBtZXPFUP/sXz53cw4jO9qF6yXEMwsOQ0/
sk4hL2xv7rVSw3/YcSEarYETqyrMFIb/jq88/5gnA2oTvGPKCcXkY3K9SIaG
x0seygqCxe2PrDIfyRAfajWrriS46p2tf3WMhzRd3qGtIug5i9LOvHjYXi3T
9lUTBj+MzpvTxaMvWL+hqCFwt0Yqu23kOMIUVJ2qJahLZ4qen5WDyTkea1FH
WHq/Y3N7QI4yyzujQwb+D8TLsfM=
                    "]]}}}, {}, {}}, {
                DisplayFunction -> Identity, Ticks -> {Automatic, Automatic}, 
                 AxesOrigin -> {0, 185.18089140482786`}, 
                 FrameTicks -> {{None, None}, {None, None}}, 
                 GridLines -> {None, None}, DisplayFunction -> Identity, 
                 PlotRangePadding -> {{
                    Scaled[0.1], 
                    Scaled[0.1]}, {
                    Scaled[0.1], 
                    Scaled[0.1]}}, PlotRangeClipping -> True, ImagePadding -> 
                 All, DisplayFunction -> Identity, AspectRatio -> 1, 
                 Axes -> {False, False}, AxesLabel -> {None, None}, 
                 AxesOrigin -> {0, 185.18089140482786`}, DisplayFunction :> 
                 Identity, Frame -> {{True, True}, {True, True}}, 
                 FrameLabel -> {{None, None}, {None, None}}, FrameStyle -> 
                 Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, 
                 GridLines -> {None, None}, GridLinesStyle -> Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "DefaultBoundaryStyle" -> Automatic, "DefaultMeshStyle" -> 
                   AbsolutePointSize[6], "ScalingFunctions" -> None, 
                   "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 1, 
                    2][#]& )[
                    Part[#, 1]], 
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 2, 
                    2][#]& )[
                    Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 1, 
                    2][#]& )[
                    Part[#, 1]], 
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 2, 
                    2][#]& )[
                    Part[#, 2]]}& )}}, 
                 PlotRange -> {{0., 150.}, {185.18089140482786`, 
                  188.68014990556946`}}, PlotRangeClipping -> True, 
                 PlotRangePadding -> {{
                    Scaled[0.1], 
                    Scaled[0.1]}, {
                    Scaled[0.1], 
                    Scaled[0.1]}}, Ticks -> {Automatic, Automatic}}], 
               GridBox[{{
                  RowBox[{
                    TagBox["\"Domain: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"{", 
                    RowBox[{"0.`", ",", "150.`"}], "}"}], "}"}], 
                    "SummaryItem"]}]}, {
                  RowBox[{
                    TagBox["\"Output: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["\"scalar\"", "SummaryItem"]}]}}, 
                GridBoxAlignment -> {
                 "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                False, GridBoxItemSize -> {
                 "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                GridBoxSpacings -> {
                 "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                BaseStyle -> {
                 ShowStringCharacters -> False, NumberMarks -> False, 
                  PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
             GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
             GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             BaselinePosition -> {1, 1}], True -> GridBox[{{
               PaneBox[
                ButtonBox[
                 DynamicBox[
                  FEPrivate`FrontEndResource[
                  "FEBitmaps", "SquareMinusIconMedium"]], 
                 ButtonFunction :> (Typeset`open$$ = False), Appearance -> 
                 None, Evaluator -> Automatic, Method -> "Preemptive"], 
                Alignment -> {Center, Center}, ImageSize -> 
                Dynamic[{
                  Automatic, 3.5 CurrentValue["FontCapHeight"]/
                   AbsoluteCurrentValue[Magnification]}]], 
               GraphicsBox[{{{{}, {}, {
                    Directive[
                    Opacity[1.], 
                    RGBColor[0.368417, 0.506779, 0.709798], 
                    AbsoluteThickness[1]], 
                    LineBox[CompressedData["
1:eJwVkn8wGwYcxTXtls3V6sbpWVWISXCoGLZWG6/1o34lE0FDQyN+fHtWSm92
fpSOltYRv+mVP8RYbfTKLOkpDVWVskxn0zrrurZEdXXD1fwat1n2x7t3nz/e
vXt3z1Z+NjyJYWRkdNig/91zdsRfJR7mN+UOPx21J6xI7UWvKnZiYl/FioxD
GNaxmUVyc7AW7ifZcgks1/kG9yBrmJiI8xcNvFf+RG+2bYfMnsk9Dx0ITZ6K
9t+POaJvnn13ypHQ2fFbqdrZFT9Vvbo562TIP+4TLg7wcFVuIrJ0Joibf9CY
xXrgGxfdpNiFoONzD2HMC3+GrnEuuRIuKtuF5ucOoukGf3X+AOHCRG760mtv
PNxXcCuMRzg9ociSRvLRPycb6XInjIYklPXkAI38bK6zB+HLek5CgOootv5o
HbnkSYjy/ecth3d8UV7/YHDNi9AStdL4S6QfokPbkuWfEKrDq3uMFP7ozVAY
aw4Smrt8mwufBYD1/e4ieBPC1xtNr1gG4i9l2LjqMMFOyQydTguC+dv1Z8R8
QkpnTc7O/mDYzzROrvoY9rVpD3y7FoLp06OqkqME6Q6T774KEmA1tbY6ypfA
9NvsYRUL0dryVG3pT3BcYKqS7nwK4yAd/2UAwet8reZCcRgK7rt5zQQSHL7I
Siy3E0G6p1U8FExwsk1+ox0ToSROvToVSqBt/br+83C4sZZEm0LCqkg9eM9U
DEZ0au97IkJNZGWG7rYYNVkzb1LEhMKx/tm6ExEY0zF49yIJN7LyfvZbjsDf
/aNNPAlh7pF/6/6GSGgKIm6uxBAyvo4/1OMVhZdr1yOuxRJ2cy/fOv8iCptm
Kc6lMsKGldEa48IJ5OxoUTYkEGwC3u1M/UACq1AJeyuZILGxEjKGJJjeVTCe
/xlhOq2wSyKLhs2/7h226YTstOWNKeMYKC2WX3tnEgTNy71HumPQKthsW8om
nAsMQKLwJLrZU8sP8ghtypYO1fpJpE3XcPkFBJfUiCfaOinqcsIuL1wkLJ6p
K9S4xYLh7MRjFxMG9r8wfTYViwmBtZXPFUP/sXz53cw4jO9qF6yXEMwsOQ0/
sk4hL2xv7rVSw3/YcSEarYETqyrMFIb/jq88/5gnA2oTvGPKCcXkY3K9SIaG
x0seygqCxe2PrDIfyRAfajWrriS46p2tf3WMhzRd3qGtIug5i9LOvHjYXi3T
9lUTBj+MzpvTxaMvWL+hqCFwt0Yqu23kOMIUVJ2qJahLZ4qen5WDyTkea1FH
WHq/Y3N7QI4yyzujQwb+D8TLsfM=
                    "]]}}}, {}, {}}, {
                DisplayFunction -> Identity, Ticks -> {Automatic, Automatic}, 
                 AxesOrigin -> {0, 185.18089140482786`}, 
                 FrameTicks -> {{None, None}, {None, None}}, 
                 GridLines -> {None, None}, DisplayFunction -> Identity, 
                 PlotRangePadding -> {{
                    Scaled[0.1], 
                    Scaled[0.1]}, {
                    Scaled[0.1], 
                    Scaled[0.1]}}, PlotRangeClipping -> True, ImagePadding -> 
                 All, DisplayFunction -> Identity, AspectRatio -> 1, 
                 Axes -> {False, False}, AxesLabel -> {None, None}, 
                 AxesOrigin -> {0, 185.18089140482786`}, DisplayFunction :> 
                 Identity, Frame -> {{True, True}, {True, True}}, 
                 FrameLabel -> {{None, None}, {None, None}}, FrameStyle -> 
                 Directive[
                   Opacity[0.5], 
                   Thickness[Tiny], 
                   RGBColor[0.368417, 0.506779, 0.709798]], 
                 FrameTicks -> {{None, None}, {None, None}}, 
                 GridLines -> {None, None}, GridLinesStyle -> Directive[
                   GrayLevel[0.5, 0.4]], ImageSize -> 
                 Dynamic[{
                   Automatic, 3.5 CurrentValue["FontCapHeight"]/
                    AbsoluteCurrentValue[Magnification]}], 
                 Method -> {
                  "DefaultBoundaryStyle" -> Automatic, "DefaultMeshStyle" -> 
                   AbsolutePointSize[6], "ScalingFunctions" -> None, 
                   "CoordinatesToolOptions" -> {"DisplayFunction" -> ({
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 1, 
                    2][#]& )[
                    Part[#, 1]], 
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 2, 
                    2][#]& )[
                    Part[#, 2]]}& ), "CopiedValueFunction" -> ({
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 1, 
                    2][#]& )[
                    Part[#, 1]], 
                    (
                    Part[{{Identity, Identity}, {Identity, Identity}}, 2, 
                    2][#]& )[
                    Part[#, 2]]}& )}}, 
                 PlotRange -> {{0., 150.}, {185.18089140482786`, 
                  188.68014990556946`}}, PlotRangeClipping -> True, 
                 PlotRangePadding -> {{
                    Scaled[0.1], 
                    Scaled[0.1]}, {
                    Scaled[0.1], 
                    Scaled[0.1]}}, Ticks -> {Automatic, Automatic}}], 
               GridBox[{{
                  RowBox[{
                    TagBox["\"Domain: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox[
                    RowBox[{"{", 
                    RowBox[{"{", 
                    RowBox[{"0.`", ",", "150.`"}], "}"}], "}"}], 
                    "SummaryItem"]}]}, {
                  RowBox[{
                    TagBox["\"Output: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["\"scalar\"", "SummaryItem"]}]}, {
                  RowBox[{
                    TagBox["\"Order: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["3", "SummaryItem"]}]}, {
                  RowBox[{
                    TagBox["\"Method: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["\"Hermite\"", "SummaryItem"]}]}, {
                  RowBox[{
                    TagBox["\"Periodic: \"", "SummaryItemAnnotation"], 
                    "\[InvisibleSpace]", 
                    TagBox["False", "SummaryItem"]}]}}, 
                GridBoxAlignment -> {
                 "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
                False, GridBoxItemSize -> {
                 "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
                GridBoxSpacings -> {
                 "Columns" -> {{2}}, "Rows" -> {{Automatic}}}, 
                BaseStyle -> {
                 ShowStringCharacters -> False, NumberMarks -> False, 
                  PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
             GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
             GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             BaselinePosition -> {1, 1}]}, 
          Dynamic[Typeset`open$$], ImageSize -> Automatic], BaselinePosition -> 
         Baseline], DynamicModuleValues :> {}], 
       StyleBox["]", "NonInterpretableSummary"]}]},
    "CopyTag",
    DisplayFunction->(#& ),
    InterpretationFunction->("InterpolatingFunction[{{0., 150.}}, <>]"& )],
   False,
   Editable->False,
   SelectWithContents->True,
   Selectable->False], "[", "t", "]"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dynamic", "@", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"tmin", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"sol", "[", 
          RowBox[{"[", "0", "]"}], "]"}], "[", "\"\<Domain\>\"", "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ",", 
      RowBox[{"tmax", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"sol", "[", 
          RowBox[{"[", "0", "]"}], "]"}], "[", "\"\<Domain\>\"", "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"1", ",", "2"}], "]"}], "]"}]}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Plot", "[", 
     RowBox[{"sol", ",", 
      RowBox[{"{", 
       RowBox[{"t", ",", "tmin", ",", "tmax"}], "}"}], ",", 
      RowBox[{"AxesLabel", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
        "\"\<Time elapsed (days)\>\"", ",", "\"\<Lake height (meters)\>\""}], 
        "}"}]}], ",", 
      RowBox[{"ImageSize", "\[Rule]", "Full"}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input"],

Cell[BoxData[
 DynamicBox[ToBoxes[
   With[{$CellContext`tmin = Part[
       Part[$CellContext`sol, 0]["Domain"], 1, 1], $CellContext`tmax = Part[
       Part[$CellContext`sol, 0]["Domain"], 1, 2]}, 
    Plot[$CellContext`sol, {$CellContext`t, $CellContext`tmin, \
$CellContext`tmax}, 
     AxesLabel -> {"Time elapsed (days)", "Lake height (meters)"}, ImageSize -> 
     Full]], StandardForm],
  ImageSizeCache->{821., {213., 219.}}]], "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{960, 1016},
WindowMargins->{{0, Automatic}, {0, Automatic}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
TrackCellChangeTimes->False,
FrontEndVersion->"11.0 for Linux x86 (64-bit) (July 28, 2016)",
StyleDefinitions->"Default.nb"
]

